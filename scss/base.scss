@import "variables";
@import "placeholders";
@import "compass/utilities/general/clearfix";

* {
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

// * 1: Computes to 10px by the browsers so we can use rem the nice way
// * 2: Specifies a size adjustment for displaying text content on smartphones.
// * 3: Improve text-rendering in Webkit browsers and firefox on OSX.
// * 4: Set the kerning and ligatures for current and future browsers.
//      Smashing Booke #4 Chapter 9.

html {
  font-size: 62.5%; // * 1 *
  @include text-adjust; // * 2 *
  @include font-smoothing; // * 3 *
  @include font-kerning; // * 4 *
  @include font-feature-settings; // * 4 *
}

body {
  margin: 0;
  padding: 0;
  font-family: $font-main;
  font-size: 1.7rem;
  color: $c-text;
  line-height: 2.1rem;
  background: url(../img/bg.jpg) $c-bg;
  background-attachment: fixed;

  @media (max-width: 500px) {
    font-size: 1.7rem;
  }
}

h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: $font-headers;
}

h1 {
  margin-top: 0;
  margin-bottom: 28px;
  font-size: 3.5rem;
  line-height: 3.6rem;
  color: $color-maintitle;
}

h2 {
  font-size: 3rem;
  margin-top: 30px;
  margin-bottom: 10px;
  color: $color-maintitle;
}

h3,
h4,
h5,
h6 {
  margin-top: 28px;
  margin-bottom: 10px;
  font-size: 2.6rem;
}

a {
  color: $c-header;
  text-decoration: none;
  &:hover { text-decoration: underline; }
}

p {
  margin-top: 0;
  margin-bottom: 18px;
}

blockquote {
  font-style: italic;
  font-size: 2rem;
  color: rgb(245, 190, 136);;
  font-weight: bold;
}


figure {
  padding: 8px;

  img {
    display: inline-block;
    margin: 0 auto;
    border: 2px solid lighten($c-bg, 15%);
  }

  figcaption {
    font-style: italic;
    text-align: right;
  }
}

// ===========
// HEADER MENU
// ===========
.header-menu {
  position: relative;
  height: 50px;
  background-color: $color-maintitle;

  @include mq-max(699px) {
    padding: 0 0 0 5%;
  }

  @include mq-min(700px) {
    padding: 0 0 0 10%;
  }
}

.menu {
  @include reset-ul;

  @include mq-max(699px) {
    position: absolute;
    display: none;
    top: 50px;
    background-color: $color-maintitle;

    .show & { display: block; }
  }

  @include mq-min(700px) {
    li { display: inline-block; }
  }
}

.header-menu-item {
  font-family: $font-headers;
  color: #fff;
  text-decoration: none;

  &.selected,
  &:hover {
    background-color: $c-selected;
    text-decoration: none;
    @include transition(background-color, 0.5s, ease-in);
  }

  @include mq-max(699px) {
    display: block;
    padding: 8px 28px 8px 12px;
    font-size: 2.2rem;
  }

  @include mq-min(700px) {
    display: inline-block;
    height: 50px;
    padding: 14px 15px;
    font-size: 2.7rem;
    letter-spacing: 0.05rem;
  }
}

.menu_title {
  display: inline-block;
  height: 50px;
  padding: 10px 15px;
  font-size: 2.7rem;
  cursor: pointer;

  .show & { background-color: $c-selected; }

  @include mq-min(700px) { display: none; }
}

// =======
// MY NAME
// =======
.my-name {
  position: absolute;
  right: 10%;
  top: 12px;
  font-family: $font-main;
  font-size: 1.8rem;
  font-weight: bold;
  color: #fff;

  &:before,
  &:after {
     font-family: $font-main;
     font-size: 2.4rem;
  }

  &:before {
    content: "{";
    padding-right: 2px;
  }

   &:after {
    content: "}";
    padding-left: 2px;
  }
}

// flexible boxes on the homepage
.flexible {
  margin-top: 40px;
  @include mq-min(815px) {
    @include flexbox;
    @include flex-justify-content(space-around);
  }
}

.block-home {
  @include mq-max(814px) {
    margin-bottom: 28px;
    padding-left: 28px;
    padding-right: 28px;
    @include clearfix;

    h2 { margin-top: 15px; }
  }

  @include mq-min-max(815px, 1279px) { width: 28%; }
  @include mq-min(1280px) { width: 18%; }

  .visual {
    height: 120px;

    @include mq-min-max(465px, 814px) {
      float: left;
      margin-right: 28px;
    }
    @include mq-max(464px) { text-align: center; }
    @include mq-min(815px) { text-align: center; }

    // Give the blog icon a nice background color + border-radius and center it.
    .icon-blog {
      display: block;
      width: 121px;
      height: 121px;
      padding-top: 18px;
      padding-left: 12px;
      background-color: $c-header;
      border: 2px solid $c-text;

      @include mq-max(464px) {  margin: 0 auto; }
      @include mq-min(815px) {  margin: 0 auto; }
    }

    .icon-blog:before {
      color: #fff;
      font-size: 7.5rem;
    }
  }

  .portrait {
    width: 121px;
    height: 121px;
    border: 2px solid $c-text;
  }
}

// =======
// CONTENT
// =======
[role="main"],
article {
  max-width: 746px;
  margin: 28px auto 18px auto;
  padding: 28px;
  background-color: rgba(#44484d, 0.7);
}
.subtitle { font-size: 1.5rem; }

.intro {
  margin: 0 auto;
  max-width: 746px;
  padding: 28px;

}

// Article list
// ------------
.article_list {
  @extend %article_list;
}

.article_list_flexible {
  @extend %article_list;
  @include mq-min(780px) { width: 550px; }

  &:first-of-type {
    padding-right: 28px;
  }
}

.flexible_listing {
  padding-left: 28px;
  padding-right: 28px;
  margin: 0 auto;
  width: 100%;
  max-width: 1200px;

  @include mq-min(780px) {
    @include flexbox;
    @include flex-justify-content(space-around);
  }
}

// Used as title of a listing
.list_title {
  @extend %list_title;
  margin: 35px 0 15px 0;
}

.list_title_flexible {
  @extend %list_title;
  margin-bottom: 15px;
}

// ============
// CODE STYLING
// ============
pre {
    position: relative;
    margin: 5px;
    padding: 0;
    overflow: auto;
    background: #fff;
    white-space: normal;
    font-size: 1.2rem;
    color: $c-code;
    border: 1px solid $c-shadow;

    &:before {
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      padding: 8px 0;
      text-indent: 15px;
      color: #fff;
      font-family: $font-headers;
      font-weight: bold;
      font-size: 2rem;
      content: attr(rel);
      background-color: $c-header;
    }

    &[rel] {
      padding-top: 33px;
    }
}

code {
    display: block;
    overflow: auto;
    margin: 0;
    padding: 15px;
    white-space: pre;
    font-family: monospace, sans-serif;
}
.comment { color: darken($color-subtitle, 18%); }

.code-indent {
    display: inline-block;
    text-indent: $code-indent;
}
.code-indent-2 {
    display: inline-block;
    text-indent: $code-indent * 2;
}
.boolean { color: $color-maintitle; }
.number { color: $c-header; }


.language-css {
  .selector { color: #7a8622; }
  .property { color: #4c7cc1; }
}
.language-html {
  .attribute { color: #7a8622; }
  .tag { color: #4c7cc1; }
}

// @End CODE STYLING
// =================

// =============
// ABOUT ME PAGE
// =============
.photos {
  position: relative;
  height: 286px;
}

.photo-side,
.photo-front {
  position: absolute;
  max-width: 100%;
  border: 10px solid #fff;
  @include box-shadow(1px 1px 8px 0 #000);
}

.photo-side {
  top: 20px;
  @include transform(rotate(5deg));

  &:nth-of-type(2) { right: 0; }
}

.photo-front {
  top: 10px;
  left: 50%;
  margin-left: -(278/2) * 1px;
}

//@End ABOUT ME PAGE
// =================