<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta content="IE=edge" http-equiv="X-UA-Compatible"><meta content="width=device-width, initial-scale=1" name="viewport"><meta name="description" content="My description"><link rel="icon" type="image/ico" href="../img/favicon.ico"><link rel="stylesheet" media="all" href="../css/blog.css"></head><body><div class="visualwrapper"><div class="overlay"></div><nav role="navigation"><div class="hamburger-wrapper"><div class="hamburger"></div><div class="menu-text">Menu</div></div><div class="mobile-wrapper"><a href="/" role="menuitem" class=""><span class="menu-text">Home</span></a> <a href="/blog" role="menuitem" class="selected"><span class="menu-text">Blog</span></a> <a href="/fronteers" role="menuitem" class=""><span class="menu-text">Fronteers</span></a> <a href="/about.html" role="menuitem" class=""><span class="menu-text">About me</span></a></div></nav><div class="nav-arrows"></div><article role="article"><h2>Ranking stars with sass</h2><p>In May, Roy Tomeij wrote the article <a href="http://advancedsass.com/articles/configurable-star-rating-without-js.html">"Configurable star rating without JS"</a>. I was thinking how to do it using a font icon instead of a background and make it clickable. I had the code finished a couple of days, but now I've finally have the time to post my solution. So here we go:</p><h3>HTML structure</h3><p>I placed the radio buttons in reversed order in the DOM to be able to do the hover + checked state in the right order. For the star I created a font icon using <a href="http://www.fontcustom.com"></a>{fontcustom}.</p><pre class="html" rel="HTML"><code>&lt;div class="remove-ranking-wrapper"&gt;
    &lt;input type="radio" name="4 stars" id="remove-ranking"&gt;
    &lt;label for="remove-ranking"&gt;Remove ranking&lt;/label&gt;
&lt;/div&gt;
&lt;div class="ranking"&gt;
    &lt;input type="radio" name="4 stars" id="star-4"&gt;
    &lt;label for="star-4" class="icon-star"&gt;&lt;/label&gt;
    &lt;input type="radio" name="4 stars" id="star-3"&gt;
    &lt;label for="star-3" class="icon-star"&gt;&lt;/label&gt;
    &lt;input type="radio" name="4 stars" id="star-2"&gt;
    &lt;label for="star-2" class="icon-star"&gt;&lt;/label&gt;
    &lt;input type="radio" name="4 stars" id="star-1"&gt;
    &lt;label for="star-1" name="4 stars" class="icon-star"&gt;&lt;/label&gt;
&lt;/div&gt;</code></pre><p>First I hide the buttons and add the class "icon-star" to the label. Then I created a small map for the number of stars and created a mixin which contains the arguments:<ol><li>Number of stars</li><li>star width</li><li>hover color</li><li>selected color</li></ol></p><pre class="language-scss" rel="SCSS"><code><span class="variable">$stars-list</span>: (
    1,
    2,
    3,
    4
);

<span class="selector">.ranking</span> {
    <span class="selector">@include ranking-stars</span>(<span class="variable">$stars-list</span>, 32px, orange, #f5d76d, 85);
    <span class="property">position</span>: relative;

    <span class="selector">[type="radio"]</span> { <span class="property">display</span>: none; }
    <span class="selector">label</span> { <span class="property">cursor</span>: pointer; }
    <span class="selector">.icon-star</span> { <span class="property">font-size</span>: 3rem; }
}

<span class="comment">// Set hover + selected label for star ranking</span>
<span class="selector">@mixin ranking-stars</span>(<span class="variable">$stars</span>, <span class="variable">$star-width</span>, <span class="variable">$hover</span>, <span class="variable">$selected</span>, <span class="variable">$deselect-width</span>) {
  > <span class="selector">label</span> {
    <span class="property">position</span>: absolute;
    <span class="property">top</span>: 0;
    <span class="selector">&</span>:hover { <span class="property">color</span>: <span class="variable">$hover</span>; }
  }
  <span class="comment">// Loop through the stars to position them in the right order, to set the hover color + checked color</span>
  @for <span class="variable">$i</span> from 1 through length(<span class="variable">$stars</span>) {
    > <span class="selector">label</span>:nth-of-type(n + #{<span class="variable">$i</span>}):hover ~ <span class="selector">label</span> { <span class="property">color</span>: <span class="variable">$hover</span>; }

    <span class="comment">// position the stars in reversed order</span>
    > <span class="selector">label</span>:nth-of-type(n+#{<span class="variable">$i</span>}) {
      <span class="property">left</span>: ((<span class="variable">$star-width</span> * length(<span class="variable">$stars</span>)) + <span class="variable">$deselect-width</span>) - (<span class="variable">$star-width</span> * <span class="variable">$i</span>);
    }

    <span class="comment">// Set selected color on all label siblings based on the checked radio</span>
    > <span class="selector">input[type="radio"]</span>:nth-of-type(n + #{<span class="variable">$i</span>}):checked ~ <span class="selector">label</span> {
        <span class="property">color</span>: <span class="variable">$selected</span>;
    }
  }
}

</code></pre><h3>Demo</h3><p>And here you have a working result:</p><div class="remove-ranking-wrapper"><input type="radio" name="4 stars" id="remove-ranking"><label for="remove-ranking">Remove ranking</label></div><div class="ranking"><input type="radio" name="4 stars" id="star-4"><label for="star-4" class="icon-star"></label><input type="radio" name="4 stars" id="star-3"><label for="star-3" class="icon-star"></label><input type="radio" name="4 stars" id="star-2"><label for="star-2" class="icon-star"></label><input type="radio" name="4 stars" id="star-1"><label for="star-1" name="4 stars" class="icon-star"></label></div></article></div><script src="../js/base_compiled.js"></script></body></html>